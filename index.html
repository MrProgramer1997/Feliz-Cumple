<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‰ Feliz CumpleaÃ±os Vale ğŸ‚</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #fbc2eb, #a6c1ee);
      text-align: center;
      padding: 20px;
    }

    .card {
      background: white;
      padding: 20px;
      margin: 20px auto;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      max-width: 400px;
    }

    h1 {
      color: #e91e63;
    }

    .btn {
      padding: 10px 20px;
      margin: 10px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
      color: white;
    }

    .celebrar {
      background-color: #ff4081;
    }

    .celebrar:hover {
      background-color: #e91e63;
    }

    .descargar {
      background-color: #2196f3;
    }

    .descargar:hover {
      background-color: #1976d2;
    }

    /* Ruleta */
    .ruleta-container {
      margin: 30px auto;
      width: 250px;
      height: 250px;
      position: relative;
    }

    .ruleta {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 5px solid #333;
      background: conic-gradient(
        #ffeb3b 0deg 90deg,
        #ffcdd2 90deg 180deg,
        #c8e6c9 180deg 270deg,
        #bbdefb 270deg 360deg
      );
      transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
      position: relative;
    }

    .flecha {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-top: 30px solid red;
    }

    /* Opciones dentro de las casillas (nÃºmeros) */
    .opcion {
      position: absolute;
      left: 50%;
      top: 50%;
      transform-origin: 0 0;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
    }

    .op1 {
      transform: rotate(45deg) translate(80px) rotate(-45deg);
    }

    .op2 {
      transform: rotate(135deg) translate(80px) rotate(-135deg);
    }

    .op3 {
      transform: rotate(225deg) translate(80px) rotate(-225deg);
    }

    .op4 {
      transform: rotate(315deg) translate(80px) rotate(-315deg);
    }

    .btn-ruleta {
      background-color: #ff4081;
      margin-top: 20px;
    }

    .resultado {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
      color: #e91e63;
    }

    /* Lista de premios */
    .premios {
      text-align: left;
      margin-top: 15px;
      font-size: 15px;
    }

    .premios ul {
      padding-left: 20px;
    }
  </style>
</head>

<body>
  <div class="card" id="felicitacion">
    <h1>Â¡Feliz cumpleaÃ±os, Hermanita! ğŸ‰</h1>
    <p>Que tu dÃ­a estÃ© lleno de risas, abrazos y sorpresas bonitas. ğŸ’–</p>
    <div style="font-size: 50px;">ğŸ‚</div>
    <p>Te deseo un aÃ±o lleno de Ã©xitos, salud y momentos inolvidables. ğŸâœ¨</p>
    <button class="btn celebrar" onclick="alert('ğŸŠ Â¡A celebrar este dÃ­a especial! ğŸŠ')">ğŸ¥³ Celebrar</button>
    <button class="btn descargar" onclick="descargarPNG()">â¬‡ï¸ Descargar PNG</button>
  </div>

  <div class="card">
    <div class="ruleta-container">
      <div class="flecha"></div>
      <div class="ruleta" id="ruleta">
        <div class="opcion op1">1</div>
        <div class="opcion op2">2</div>
        <div class="opcion op3">3</div>
        <div class="opcion op4">4</div>
      </div>
    </div>
    <button id="ruletaBtn" class="btn btn-ruleta" onclick="girarRuleta()">ğŸ° Girar Ruleta</button>
    <div class="resultado" id="resultado"></div>

    <!-- Lista de premios -->
    <div class="premios">
      <h3>ğŸ Premios</h3>
      <ul>
        <li><b>1:</b> ğŸ¬ Noche de cine: Kimetsu no Yaiba</li>
        <li><b>2:</b> ğŸ§¦ Una prenda de ropa</li>
        <li><b>3:</b> ğŸ˜­ Nada, nadita ğŸ˜­</li>
        <li><b>4:</b> ğŸ¦ Un helado en Manizales</li>
      </ul>
    </div>
  </div>

  <script>
    let intentos = 0; // contador de giros

    function descargarPNG() {
      html2canvas(document.getElementById("felicitacion")).then(canvas => {
        let link = document.createElement("a");
        link.download = "felicitacion_valeria.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function girarRuleta() {
      const ruleta = document.getElementById("ruleta");
      const resultado = document.getElementById("resultado");
      const ruletaBtn = document.getElementById("ruletaBtn");

      const sectores = [1, 2, 3, 4];
      const premioTextos = {
        1: "ğŸ¬ Â¡Ganaste una Noche de cine el prÃ³ximo jueves 25 de Septiembre en la noche! ğŸ“½ï¸",
        2: "ğŸ§¦ Â¡Ganaste una prenda de ropa! ğŸ‘•",
        3: "ğŸ˜­ Nada, nadita ğŸ˜­ Â¡SerÃ¡ la prÃ³xima vez!",
        4: "ğŸ¦ Â¡Ganaste un Helado en Manizales! ğŸ¦"
      };

      if (intentos >= 3) {
        resultado.textContent = "ğŸš« Ya no tienes mÃ¡s intentos.";
        return;
      }

      intentos++;

      // Definir quÃ© premio toca segÃºn el intento
      let ganador;
      if (intentos === 1 || intentos === 2) {
        ganador = 3; // siempre "Nada"
      } else if (intentos === 3) {
        ganador = 1; // siempre "Cine"
      }

      const sectorAngle = 360 / sectores.length;
      const targetIndex = sectores.indexOf(ganador);
      const centerOfTarget = targetIndex * sectorAngle + sectorAngle / 2;
      const desiredPointerAngle = 270;

      const vueltas = 5 + Math.floor(Math.random() * 2);
      const finalRotation = vueltas * 360 + (desiredPointerAngle - centerOfTarget);

      ruletaBtn.disabled = true;
      ruletaBtn.style.opacity = 0.6;
      resultado.textContent = '';

      ruleta.style.transition = 'transform 4s cubic-bezier(0.33,1,0.68,1)';
      ruleta.style.transform = `rotate(${finalRotation}deg)`;

      setTimeout(() => {
        resultado.innerHTML = premioTextos[ganador] + "<br><br>ğŸ“¸ EnvÃ­a este pantallazo a <b>Tu hermano</b> para reclamar tu regalo.";

        ruletaBtn.disabled = false;
        ruletaBtn.style.opacity = 1;
      }, 4200);
    }
  </script>
</body>
</html>
